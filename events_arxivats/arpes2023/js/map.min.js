/*! YOOtheme Pro v3.0.9 | https://yootheme.com */
(function(W,g){"use strict";function B(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var j=B(W);function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T(t,e)}function H(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(t,e,o){return H()?f=Reflect.construct.bind():f=function(i,u,x){var m=[null];m.push.apply(m,u);var I=Function.bind.apply(i,m),C=new I;return x&&T(C,x.prototype),C},f.apply(null,arguments)}function D(t){g.$$(".el-item",t).forEach(function(e){return g.$$("script",e.parentNode).forEach(function(o){var n=g.$("<script>");n.textContent=o.textContent,o.replaceWith(n)})})}function X(t,e){var o=e.type,n=e.center,i=e.zoom,u=e.min_zoom,x=e.max_zoom,m=e.zooming,I=e.dragging,C=e.clustering,r=e.cluster_icons,_=e.controls,$=e.poi,M=e.markers,N=e.styler_invert_lightness,v=e.styler_hue,z=e.styler_saturation,A=e.styler_lightness,l=e.styler_gamma,d=e.popup_max_width,s=new google.maps.LatLng(n.lat,n.lng),c=new google.maps.Map(t,{zoom:Number(i),minZoom:Number(u),maxZoom:Number(x),center:s,mapTypeId:google.maps.MapTypeId[o.toUpperCase()],disableDefaultUI:!_,gestureHandling:I||m?"auto":"none",mapTypeControlOptions:{mapTypeIds:["styled_map","satellite"]}}),k,h=new google.maps.InfoWindow({maxWidth:d?parseInt(d,10):300});h.addListener("domready",function(){return D(t)});var w;if(C){var O={map:c};Array.isArray(r)&&(O.renderer={render:function(b){var y=b.count,P=b.position,p;return y<10?p=r[0]:y<100?p=r[1]||r[0]:p=r[2]||r[1]||r[0],new google.maps.Marker({position:P,icon:{url:p.url,scaledSize:p.size?f(google.maps.Size,p.size):null},label:{text:String(y),color:p.textColor?p.textColor:null,fontSize:"11px",fontWeight:"bold"},zIndex:Number(google.maps.Marker.MAX_ZINDEX)+y})}}),w=new markerClusterer.MarkerClusterer(O)}M==null||M.forEach(function(a){var b=a.lat,y=a.lng,P=a.content,p=a.show_popup,E=a.icon,U=a.iconSize,Z=a.iconAnchor,K=a.title,S=new google.maps.Marker({map:c,title:K,position:new google.maps.LatLng(b,y)});if(E&&S.setIcon({url:E,scaledSize:U?f(google.maps.Size,U):null,anchor:Z?f(google.maps.Point,Z):null}),w&&w.addMarker(S),P){var R=function(){if(h.getMap()&&k===S){h.close();return}h.setContent(P),h.open(c,S),k=S};google.maps.event.addListener(S,"click",R),p&&R()}});var G=new google.maps.StyledMapType([{featureType:"all",elementType:"all",stylers:[{invert_lightness:N},{hue:v},{saturation:z},{saturation:z},{lightness:A},{gamma:l}]},{featureType:"poi",stylers:[{visibility:$?"on":"off"}]}],{name:"Map"});c.mapTypes.set("styled_map",G),o.toUpperCase()==="ROADMAP"&&c.setMapTypeId("styled_map")}function F(t,e){J(e),q(t,e)}function J(t){var e=t.baseUrl,o=t.clustering,n=t.clusterBaseUrl;g.append(document.head,`<style>
        @import '`+e+`/leaflet.css' layer(leaflet);
        `+(o?"@import '"+n+`/MarkerCluster.css' layer(leaflet);
@import '`+n+"/MarkerCluster.Default.css' layer(leaflet);":"")+`
        .leaflet-div-icon {
            background: transparent;
            border: none;
        }
        .leaflet-pane .leaflet-popup-pane {
            width: 9999px;
        }
        </style>`)}function q(t,e){var o=e.type,n=e.center,i=e.zoom,u=e.min_zoom,x=e.max_zoom,m=e.zooming,I=e.dragging,C=e.clustering,r=e.cluster_icons,_=e.controls,$=e.markers,M=e.popup_max_width,N=e.baseUrl;L.Icon.Default.imagePath=N+"/images/";var v=L.map(t,{zoom:i,minZoom:Number(u),maxZoom:Number(x),center:n,dragging:I,zoomControl:_,touchZoom:m,scrollWheelZoom:m,doubleClickZoom:m});v.on("popupopen",function(){return D(t)}),o==="satellite"?L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:'&copy; <a href="https://www.esri.com">Esri</a> | DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community'}).addTo(v):L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a>'}).addTo(v);var z;if(C){var A={showCoverageOnHover:!1};r&&(A.iconCreateFunction=function(l){var d=l.getChildCount(),s;d<10?s=r[0]:d<100?s=r[1]||r[0]:s=r[2]||r[1]||r[0];var c=s.textColor?'style="color: '+s.textColor+'"':"";return new L.DivIcon({html:'<img src="'+s.url+'" alt><span class="uk-position-center"'+c+">"+d+"</span>",iconSize:s.size?f(L.Point,s.size):null})}),z=L.markerClusterGroup(A),v.addLayer(z)}$==null||$.forEach(function(l){var d=l.lat,s=l.lng,c=l.content,k=l.show_popup,h=l.icon,w=l.iconSize,O=l.iconAnchor,G=l.title,a=L.marker({lat:d,lng:s},{title:G});if(h&&a.setIcon(L.icon({iconUrl:h,iconSize:w,iconAnchor:O})),z?z.addLayer(a):a.addTo(v),c){var b={maxWidth:M?parseInt(M,10):300};w&&(b.offset=new L.Point(0,-1*w[1]+7));var y=L.popup(b).setContent(c);a.bindPopup(y),k&&a.openPopup()}})}j.default.component("Map",{connected:function(){var e,o=this;if(this.script=this.script||g.$("script",this.$el),!!this.script){this.map=JSON.parse(this.script.textContent);var n=g.$$("template",this.$el);(e=this.map.markers)==null||e.forEach(function(i,u){i.content=g.html(n[u]).trim(),!i.icon&&o.map.icon&&(i.icon=o.map.icon,i.iconSize=o.map.iconSize,i.iconAnchor=o.map.iconAnchor)}),this.map.lazyload&&"IntersectionObserver"in window?this.registerObserver(g.observeIntersection(this.$el,function(i,u){o.load(),u.disconnect()},{rootMargin:window.innerHeight/2+"px 0px"})):this.load()}},methods:{load:function(){var e,o,n;((e=this.map)==null?void 0:e.library)==="google"&&(o=window.google)!=null&&o.maps&&X(this.$el,this.map),((n=this.map)==null?void 0:n.library)==="leaflet"&&window.L&&F(this.$el,this.map)}}})})(UIkit,UIkit.util);
